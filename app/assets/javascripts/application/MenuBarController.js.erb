/**
 * Created by arthur on 9/29/15.
 */

var MenubarController = (function(){
    var isMenuVisible, menuBar, menuDropdown;

    function initialize() {
        isMenuVisible = false;
        menuBar = document.querySelector('.menu-bar');
        menuDropdown = document.querySelector('#menu-dropdown');
        var menuButton = document.querySelector('#menu-dropdown-button')
        menuButton.onclick = toggleMenu;
//        menuBarEventDelegator = new EventDelegator('#menu-bar');
//        menuBarEventDelegator.handleCommand('show-menu-dropdown', toggleMenu);
    }

    function setMenuTitle(titleString){
        menuBar.querySelector('#menu-bar-title').innerHTML = titleString;
    }

    function showMenu(){
        menuDropdown.setAttribute('class', 'visible');
        isMenuVisible = true;
    }

    function hideMenu(){
        menuDropdown.setAttribute('class', 'invisible');
        isMenuVisible = false;
    }

    function toggleMenu(){
        if(isMenuVisible){
            hideMenu();
        } else {
            showMenu();
        }
    }

    return {
        initialize: initialize,
        setPageTitle: setMenuTitle,
        toggleMenu: toggleMenu
    }
}());